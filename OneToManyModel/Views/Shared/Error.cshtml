@using System.Data.Entity.Infrastructure
@using System.Data.Entity.Validation
@using System.Text
@model System.Web.Mvc.HandleErrorInfo

@{
    ViewBag.Title = "Error Occurred";
}

<h2>Error Occurred</h2>
@Html.DisplayFor(m=>m.Exception.Message)
<br/>
Inner Exceptions
<br/>
@{
        var innerEx = Model.Exception.InnerException;
        if (innerEx != null )
        {
            @innerEx.Message
            <br />            
            while (innerEx.InnerException != null)
            {
                @innerEx.InnerException.Message
                <br />
                innerEx = innerEx.InnerException;
            }
        }
}

@{
    var dbEntityValidationException = Model.Exception as DbEntityValidationException;
}
@if (dbEntityValidationException != null)
{
    var sb = new StringBuilder();

    foreach (var entry in dbEntityValidationException.EntityValidationErrors)
    {
        foreach (var error in entry.ValidationErrors)
        {
            sb.AppendLine(string.Format("{0}-{1}-{2}",
                                        entry.Entry.Entity,
                                        error.PropertyName,
                                        error.ErrorMessage
                              )
                );
        }
    }
    <p>@sb.ToString()</p>
}